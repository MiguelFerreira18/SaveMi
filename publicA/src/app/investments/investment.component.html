<h1 class="text-2xl font-bold">Investment Page</h1>
@if (isLoading()) {
  <div class="h-150 flex flex-col justify-center items-center">
    <mat-spinner></mat-spinner>
  </div>
} @else if (hasErrorLoading()) {
  <app-error-display></app-error-display>
} @else {
  <div class="flex flex-row px-2 py-5 items-center">
    <span class="relative flex items-center">
      <mat-icon class="absolute left-2 text-gray-400">search</mat-icon>
      <input
        class="w-full max-w-md p-2 pl-8 mr-4 border border-gray-300 rounded"
        type="text"
        placeholder="search..."
        [formControl]="searchControl"
      />
    </span>
    @if (searchControl.value) {
      <button type="button" mat-stroked-button (click)="clearFilter()">reset</button>
    }
    <div class="ml-auto">
      <button mat-fab (click)="openAddInvestmentDialog()">
        <mat-icon>add</mat-icon>
      </button>
      <button
        mat-fab
        class="ml-5"
        (click)="deleteInvestments()"
        [disabled]="selectedIds().size == 0"
      >
        <mat-icon>delete</mat-icon>
      </button>
    </div>
  </div>

  <app-data-table
    [columns]="columns"
    [data]="investments()"
    [selectedIds]="selectedIds()"
    [updateSelectedIds]="updateSelectedIds.bind(this)"
  >
  </app-data-table>
}
